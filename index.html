<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>ä»Šå¤©åƒä»€ä¹ˆï¼Ÿ- ç»ˆæç‰ˆ</title>
    <style>
        :root {
            --primary: #FF5E00; /* ç¾å›¢é»„/æ·˜å®æ©™ */
            --bg: #f5f5f5;
            --card-bg: #ffffff;
            --text-main: #333333;
            --text-sub: #999999;
            --shadow: 0 8px 20px rgba(0,0,0,0.08);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        .header {
            position: absolute;
            top: 40px;
            width: 100%;
            text-align: center;
        }

        .header h1 {
            font-size: 1.5rem;
            color: var(--text-main);
            margin: 0;
            font-weight: 800;
        }

        .header p {
            font-size: 0.9rem;
            color: var(--text-sub);
            margin-top: 5px;
        }

        /* æ ¸å¿ƒå¡ç‰‡åŒºåŸŸ */
        .card-wrapper {
            width: 85%;
            max-width: 350px;
            height: 420px;
            perspective: 1000px;
            position: relative;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1);
            border-radius: 24px;
            box-shadow: var(--shadow);
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            background: var(--card-bg);
            border-radius: 24px;
            display: flex;
            flex-direction: column;
            padding: 30px;
            box-sizing: border-box;
            border: 1px solid rgba(0,0,0,0.03);
        }

        /* æ­£é¢è®¾è®¡ */
        .front {
            align-items: center;
            justify-content: center;
        }

        .logo-placeholder {
            width: 80px;
            height: 80px;
            background: #eee;
            border-radius: 50%;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .food-name {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--text-main);
            text-align: center;
            line-height: 1.3;
            margin-bottom: 10px;
        }

        .food-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 15px;
        }

        .tag {
            font-size: 0.75rem;
            padding: 4px 10px;
            background: #FFF0E6;
            color: var(--primary);
            border-radius: 12px;
            font-weight: 600;
        }

        /* èƒŒé¢è®¾è®¡ */
        .back {
            transform: rotateY(180deg);
            justify-content: flex-start;
        }

        .back-title {
            font-size: 0.9rem;
            color: var(--text-sub);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 20px;
        }

        .data-row {
            margin-bottom: 20px;
        }

        .data-label {
            font-size: 0.8rem;
            color: #999;
            margin-bottom: 4px;
        }

        .data-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-main);
        }

        .desc-box {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 12px;
            font-size: 0.9rem;
            color: #666;
            line-height: 1.6;
            margin-top: auto; /* æ¨åˆ°åº•éƒ¨ */
        }

        /* æŒ‰é’®åŒºåŸŸ */
        .action-area {
            position: absolute;
            bottom: 40px;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 16px 40px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 700;
            box-shadow: 0 10px 20px rgba(255, 94, 0, 0.2);
            cursor: pointer;
            transition: transform 0.1s, filter 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn:active {
            transform: scale(0.95);
            filter: brightness(0.9);
        }

        .btn-secondary {
            background: white;
            color: var(--text-main);
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

    </style>
</head>
<body>

    <div class="header">
        <h1>ä»Šå¤©åƒä»€ä¹ˆ?</h1>
        <p>AI ä¸¥é€‰ Â· æ‹’ç»é€‰æ‹©å›°éš¾</p>
    </div>

    <div class="card-wrapper">
        <div class="card" id="card">
            <!-- æ­£é¢ -->
            <div class="face front">
                <div class="logo-placeholder" id="emoji">ğŸ½ï¸</div>
                <div class="food-name" id="f-name">ç‚¹å‡»ä¸‹æ–¹<br>å¼€å§‹éšæœº</div>
                <div class="food-tags" id="f-tags">
                    <!-- åŠ¨æ€æ ‡ç­¾ -->
                </div>
            </div>
            <!-- èƒŒé¢ -->
            <div class="face back">
                <div class="back-title">SKU è¯¦æƒ…æ¡£æ¡ˆ</div>
                
                <div class="data-row">
                    <div class="data-label">æµæ´¾ / Style</div>
                    <div class="data-value" id="b-style">--</div>
                </div>

                <div class="data-row">
                    <div class="data-label">å‚è€ƒä»·æ ¼ / Price</div>
                    <div class="data-value" id="b-price">--</div>
                </div>

                <div class="desc-box" id="b-desc">
                    è¯·å…ˆæŠ½å–ä¸€ä¸ªé€‰é¡¹ï¼Œç‚¹å‡»å¡ç‰‡ç¿»è½¬æŸ¥çœ‹è¯¦æƒ…ã€‚
                </div>
            </div>
        </div>
    </div>

    <div class="action-area">
        <button class="btn" id="start-btn" onclick="startLottery()">
            ğŸ² å¸®æˆ‘é€‰
        </button>
    </div>

    <script>
        // 1. æ•°æ®æ³¨å…¥ï¼šè¿™æ˜¯åˆšæ‰ Python ç”Ÿæˆçš„é«˜ä»¿çœŸæ•°æ®
        const db = [
          {"id": "001", "name": "éº¦å½“åŠ³Â·èœœæ±æ‰‹æ‰’é¸¡", "style": "éŸ©å¼ç‚¸é¸¡", "price": "Â¥25", "tags": ["ğŸ’°ç©·é¬¼å¥—é¤", "å…¨å¤©è¥ä¸š"], "desc": "æ‰“å·¥äººçš„è›‹ç™½è´¨è¡¥ç»™ç«™ï¼Œå’¸ç”œå£ï¼Œé€‚åˆä¸æƒ³åƒç¢³æ°´çš„æ—¶å€™ã€‚"},
          {"id": "002", "name": "è‚¯å¾·åŸºÂ·ç–¯ç‹‚æ˜ŸæœŸå››", "style": "ç¾å¼ç»å…¸", "price": "Â¥29.9", "tags": ["ğŸ“…å‘¨å››ç‰¹ä¾›", "å…¨å®¶æ¡¶"], "desc": "Væˆ‘50ï¼Ÿä¸éœ€è¦ï¼ŒVæˆ‘30å°±å¤Ÿäº†ã€‚çƒ­é‡çˆ†ç‚¸ï¼Œå¿«ä¹ç¿»å€ã€‚"},
          {"id": "003", "name": "å¡”æ–¯æ±€Â·ä¸­å¼æ±‰å ¡", "style": "å›½æ½®æ±‰å ¡", "price": "Â¥18", "tags": ["ğŸ”¥ç°çƒ¤é¥¼çš®", "é«˜æ€§ä»·æ¯”"], "desc": "é¥¼çš®æ˜¯ç°çƒ¤çš„ï¼Œæœ‰ç‚¹åƒè‚‰å¤¹é¦å’Œæ±‰å ¡çš„æ··è¡€å„¿ï¼Œå£æ„Ÿå¾ˆéŸ§ã€‚"},
          {"id": "004", "name": "åè±å£«Â·å–·å°„å¥—é¤", "style": "æé™æŒ‘æˆ˜", "price": "Â¥15", "tags": ["ğŸš€å–·å°„æˆ˜å£«", "ä¾¿å®œ"], "desc": "å‹‡å£«çš„é€‰æ‹©ã€‚å¦‚æœä½ æ˜å¤©ä¸éœ€è¦æ—©èµ·ï¼Œä¹Ÿä¸éœ€è¦è€ƒè¯•ï¼Œå¯ä»¥ä¸€è¯•ã€‚"},
          {"id": "005", "name": "æ–°ç–†ç‚’ç±³ç²‰Â·çˆ†è¾£", "style": "è¥¿åŸŸé£å‘³", "price": "Â¥22", "tags": ["ğŸŒ¶ï¸çˆ†è¾£", "é‡å£å‘³"], "desc": "æ²¡æœ‰ä¸€ç“¶å†°å¯ä¹ï¼Œä¸è¦è½»æ˜“å°è¯•ã€‚åƒå®Œè®°å¾—æ“¦æ±—ã€‚"},
          {"id": "006", "name": "èºè›³ç²‰Â·åŠ ç‚¸è›‹", "style": "æŸ³å·é£å‘³", "price": "Â¥18", "tags": ["ğŸ’£ç”ŸåŒ–æ­¦å™¨", "çœŸé¦™"], "desc": "å®¤å‹ä¸åœ¨å®¶æ—¶çš„æœ€ä½³é€‰æ‹©ã€‚ç‚¸è›‹å¸æ»¡æ±¤æ±æ˜¯çµé­‚ã€‚"},
          {"id": "007", "name": "æ²™å¿Â·é¸­è…¿é¥­", "style": "å›½æ°‘é£Ÿå ‚", "price": "Â¥12", "tags": ["ğŸ’°çœé’±", "ç»å…¸"], "desc": "ä¸çŸ¥é“åƒä»€ä¹ˆçš„æ—¶å€™ï¼Œæ²™å¿æ°¸è¿œæ˜¯ä½ æœ€åšå®çš„åç›¾ã€‚"},
          {"id": "008", "name": "ç‘å¹¸Â·ç”Ÿæ¤°æ‹¿é“", "style": "ç»­å‘½æ°´", "price": "Â¥9.9", "tags": ["â˜•æç¥", "YYDS"], "desc": "ä¸å…¶è¯´æ˜¯å’–å•¡ï¼Œä¸å¦‚è¯´æ˜¯å¥½å–çš„æ¤°å¥¶é¥®æ–™ã€‚"},
          {"id": "009", "name": "èœœé›ªÂ·æŸ æª¬æ°´", "style": "è§£æ¸´ç¥å™¨", "price": "Â¥4", "tags": ["ğŸ‘‘é›ªç‹", "å·¨ä¾¿å®œ"], "desc": "4å—é’±ä½ ä¹°ä¸äº†åƒäºï¼Œä¹°ä¸äº†ä¸Šå½“ã€‚"},
          {"id": "010", "name": "å…°å·æ‹‰é¢Â·ç‰›è‚‰é¢", "style": "æ¸…çœŸ", "price": "Â¥15", "tags": ["ğŸœç¢³æ°´", "çƒ­æ±¤"], "desc": "è™½ç„¶è‚‰è–„å¦‚çº¸ï¼Œä½†é‚£å£æ±¤æ˜¯çœŸçš„é²œã€‚è®°å¾—åŠ ä¸¤å‹ºè¾£å­ã€‚"}
        ];

        const card = document.getElementById('card');
        const btn = document.getElementById('start-btn');
        let isRolling = false;
        let isFlipped = false;

        // ç‚¹å‡»å¡ç‰‡ç¿»è½¬
        card.addEventListener('click', () => {
            if(!isRolling) {
                isFlipped = !isFlipped;
                card.classList.toggle('flipped', isFlipped);
            }
        });

        function startLottery() {
            if(isRolling) return;
            
            // å¦‚æœèƒŒé¢æœä¸Šï¼Œå…ˆç¿»å›æ¥
            if(isFlipped) {
                card.classList.remove('flipped');
                isFlipped = false;
                setTimeout(runEffect, 300);
            } else {
                runEffect();
            }
        }

        function runEffect() {
            isRolling = true;
            btn.innerHTML = "ğŸ² è®¡ç®—ä¸­...";
            btn.style.opacity = 0.8;

            let count = 0;
            const max = 15;
            
            const timer = setInterval(() => {
                const item = db[Math.floor(Math.random() * db.length)];
                renderFront(item);
                count++;
                
                if(count >= max) {
                    clearInterval(timer);
                    const finalItem = db[Math.floor(Math.random() * db.length)];
                    renderFront(finalItem);
                    renderBack(finalItem);
                    isRolling = false;
                    btn.innerHTML = "ğŸ² ä¸æ»¡æ„? é‡æŠ½";
                    btn.style.opacity = 1;
                    
                    // è‡ªåŠ¨æç¤ºå¯ä»¥ç¿»è½¬
                    document.getElementById('f-tags').innerHTML += `<div class="tag" style="background:#eee;color:#666">ğŸ‘† ç‚¹å¡ç‰‡çœ‹è¯¦æƒ…</div>`;
                }
            }, 80);
        }

        function renderFront(item) {
            document.getElementById('f-name').innerText = item.name;
            const emojis = {"æ±‰å ¡": "ğŸ”", "é¸¡": "ğŸ—", "é¢": "ğŸœ", "ç²‰": "ğŸ", "é¥­": "ğŸ›", "èŒ¶": "ğŸ§‹", "å’–å•¡": "â˜•"};
            let icon = "ğŸ½ï¸";
            for(let key in emojis) {
                if(item.name.includes(key) || item.style.includes(key)) icon = emojis[key];
            }
            document.getElementById('emoji').innerText = icon;
            
            document.getElementById('f-tags').innerHTML = item.tags.map(t => 
                `<span class="tag">${t}</span>`
            ).join('');
        }

        function renderBack(item) {
            document.getElementById('b-style').innerText = item.style;
            document.getElementById('b-price').innerText = item.price;
            document.getElementById('b-desc').innerText = item.desc;
        }
    </script>
</body>
</html>

